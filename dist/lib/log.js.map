{"version":3,"sources":["../../lib/log.js"],"names":["mongoose","require","module","exports","LogSchema","Schema","entity_id","type","Types","ObjectId","required","entity_type","String","subject","entry","created_at","Number","default","Date","now","collection","Model","model","e"],"mappings":"AAAA;;AACA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;;AAEAC,OAAOC,OAAP,GAAiB,YAAY;AAC3B,MAAIC,YAAY,IAAIJ,SAASK,MAAb,CAAoB;AAClCC,eAAW,EAACC,MAAMP,SAASK,MAAT,CAAgBG,KAAhB,CAAsBC,QAA7B,EAAuCC,UAAU,IAAjD,EADuB;AAElCC,iBAAa,EAACJ,MAAMK,MAAP,EAAeF,UAAU,IAAzB,EAFqB;AAGlCG,aAAS,EAACN,MAAMK,MAAP,EAHyB;AAIlCE,WAAO,EAACP,MAAMK,MAAP,EAJ2B;AAKlCG,gBAAY,EAACR,MAAMS,MAAP,EAAeN,UAAU,IAAzB,EAA+BO,SAASC,KAAKC,GAAL,EAAxC;AALsB,GAApB,EAMb,EAACC,YAAY,KAAb,EANa,CAAhB;AAOA,MAAIC,cAAJ;AACA,MAAI;AACF;AACAA,YAAQrB,SAASsB,KAAT,CAAe,KAAf,CAAR;AACD,GAHD,CAGE,OAAOC,CAAP,EAAU;AACVF,YAAQrB,SAASsB,KAAT,CAAe,KAAf,EAAsBlB,SAAtB,CAAR;AACD;AACD,SAAOiB,KAAP;AAED,CAjBD","file":"log.js","sourcesContent":["'use strict'\nvar mongoose = require('mongoose')\n\nmodule.exports = function () {\n  let LogSchema = new mongoose.Schema({\n    entity_id: {type: mongoose.Schema.Types.ObjectId, required: true},\n    entity_type: {type: String, required: true},\n    subject: {type: String},\n    entry: {type: String},\n    created_at: {type: Number, required: true, default: Date.now()}\n  }, {collection: 'log'})\n  let Model\n  try {\n    // Throws an error if \"Name\" hasn't been registered\n    Model = mongoose.model('log')\n  } catch (e) {\n    Model = mongoose.model('log', LogSchema)\n  }\n  return Model\n\n}"]}