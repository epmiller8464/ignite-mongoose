{"version":3,"sources":["../../models/group.js"],"names":["mongoose","require","module","exports","GroupSchema","Schema","title","type","String","required","blocks","Types","ObjectId","ref","bot_id","built_in","Boolean","default","collection","index","Model","model","e"],"mappings":"AAAA;;AACA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;;AAEAC,OAAOC,OAAP,GAAiB,YAAY;AAC3B,MAAIC,cAAc,IAAIJ,SAASK,MAAb,CAAoB;AACpCC,WAAO,EAACC,MAAMC,MAAP,EAAeC,UAAU,IAAzB,EAD6B;AAEpCC,YAAQ,CAAC,EAACH,MAAMP,SAASK,MAAT,CAAgBM,KAAhB,CAAsBC,QAA7B,EAAuCC,KAAK,OAA5C,EAAqDJ,UAAU,KAA/D,EAAD,CAF4B;AAGpCK,YAAQ,EAACP,MAAMP,SAASK,MAAT,CAAgBM,KAAhB,CAAsBC,QAA7B,EAAuCC,KAAK,KAA5C,EAAmDJ,UAAU,IAA7D,EAH4B;AAIpCM,cAAU,EAACR,MAAMS,OAAP,EAAgBP,UAAU,IAA1B,EAAgCQ,SAAS,KAAzC;AAJ0B,GAApB,EAKf,EAACC,YAAY,aAAb,EALe,CAAlB;;AAOAd,cAAYe,KAAZ,CAAkB,EAACb,OAAO,CAAR,EAAlB;AACAF,cAAYe,KAAZ,CAAkB,EAACL,QAAQ,CAAT,EAAYJ,QAAQ,CAApB,EAAlB;;AAEA,MAAIU,cAAJ;AACA,MAAI;AACF;AACAA,YAAQpB,SAASqB,KAAT,CAAe,aAAf,CAAR;AACD,GAHD,CAGE,OAAOC,CAAP,EAAU;AACVF,YAAQpB,SAASqB,KAAT,CAAe,aAAf,EAA8BjB,WAA9B,CAAR;AACD;AACD,SAAOgB,KAAP;AACD,CAnBD","file":"group.js","sourcesContent":["'use strict'\nvar mongoose = require('mongoose')\n\nmodule.exports = function () {\n  let GroupSchema = new mongoose.Schema({\n    title: {type: String, required: true},\n    blocks: [{type: mongoose.Schema.Types.ObjectId, ref: 'block', required: false}],\n    bot_id: {type: mongoose.Schema.Types.ObjectId, ref: 'bot', required: true},\n    built_in: {type: Boolean, required: true, default: false}\n  }, {collection: 'block_group'})\n\n  GroupSchema.index({title: 1})\n  GroupSchema.index({bot_id: 1, blocks: 1})\n\n  let Model\n  try {\n    // Throws an error if \"Name\" hasn't been registered\n    Model = mongoose.model('block_group')\n  } catch (e) {\n    Model = mongoose.model('block_group', GroupSchema)\n  }\n  return Model\n}\n"]}